<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./wheather.css">
    <link rel="stylesheet" href="./appliances.css">
    <!-- for appliances -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-database.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <!-- <script src="./appliances.js"></script> -->

    <title>Agriculture Monitoring</title>
</head>

<body>

    <div class="container">

        <aside class="left-section">
            <div class="logo">
                <button class="menu-btn" id="menu-close">
                    <i class='bx bx-log-out-circle'></i>
                </button>
                <img src="assets/logo.png">
                <a href="#">HVAC</a>
            </div>
            <div class="sidebar" style="z-index: 100;">
                <div class="item" id="active">
                    <a href="#head">
                        <i class='bx bx-home-alt-2'></i>
                        <p href="#home">Overview</p>
                    </a>
                </div>
                <div href="#temperatureGet" class="item">
                    <a href="#temperatureGet">
                        <i class="bi bi-thermometer-sun"></i>
                        <p href="#temperatureGet">Temperature</p>
                    </a>
                </div>
                <!-- <div class="item">
                    <a href="./appliances.html">
                        <i class='bx bxs-devices'></i>
                        <p href="#">Devices</p>
                    </a>
                </div> -->

            </div>

            <div class="pic" style="margin-top: 60px;">
                <img src="assets/smartAgri.png">
            </div>

            <div class="upgrade">
                <h5>future upgrade Plans</h5>
                <div class="link">
                    <a href="#">Go to <b>Next</b></a>
                    <i class='bx bxs-chevron-right'></i>
                </div>
            </div>

        </aside>
        <!-- <main style="background-color: aquamarine; position: relative; overflow-y: auto; "> -->

        <main>
            <header id="head">
                <button class="menu-btn" id="menu-open">
                    <i class='bx bx-menu'></i>
                </button>
                <h1>Smart <b style="color: #006ED3;text-decoration: underline;">HVAC</b></h1>
            </header>

            <div class="separator">
                <div class="info">
                    <h3 style="color: #006ED3">Dashboard</h3>
                    <a href="#">View All</a>
                </div>
                <div class="search">
                    <i class='bx bx-search'></i>
                    <input type="text" placeholder="Search...">
                </div>
            </div>
            <!-- ######## -->
            <div class="analytics">
                <div class="item">
                    <div class="progress">
                        <div class="info">
                            <h5>Temperature</h5>
                            <p>RealTime %</p>
                        </div>
                        <div class="progress-bar" role="progressbar" aria-valuenow="75" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <i class="bi bi-thermometer-sun"></i>
                </div>
                <div class="item">
                    <div class="progress">
                        <div class="info">
                            <h5>Humidity</h5>
                            <p>RealTime %</p>
                        </div>
                        <div class="progress-bar" role="progressbar" aria-valuenow="75" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <i class="fa-solid fa-temperature-low"></i>
                </div>


            </div>
            <!-- ##################################### -->

            <div class="separator" id="temperatureGet">
                <div class="info">
                    <h3>Temperature</h3>
                    <a href="#">View All</a>
                </div>
                <input type="date" value="2024-03-12">
            </div>
            <!-- temperature -->

            <div class="planning">
                <div class="item">
                    <div class="left">
                        <div class="icon">

                            <i class="bi bi-thermometer-sun"></i>
                        </div>
                        <div class="data-item">
                            <h2>Temperature</h2>
                            <p class="value" id="Tempid">22 &#8451;</p>
                        </div>
                    </div>

                </div>
                <div class="item">
                    <div class="left">
                        <div class="icon">

                            <i class="fa-solid fa-temperature-low"></i>
                        </div>
                        <div class="data-item">
                            <h2>Humidity</h2>
                            <p class="value" id="Humiid">22 &#8451;</p>
                        </div>
                    </div>

                </div>

            </div>
            <!-- this secstion for real time data -->


            <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>

            <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>

            <script type="module">
                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.1/firebase-app.js";
                // TODO: Add SDKs for Firebase products that you want to use
                // https://firebase.google.com/docs/web/setup#available-libraries

                // Your web app's Firebase configuration here (Do not use the existing configuration)
                const firebaseConfig = {
                    apiKey: "AIzaSyDSrA05u5ygpsBUESx_xQ5DxUf6UIqsI0E",
                    authDomain: "iot-based-smart-hvac.firebaseapp.com",
                    databaseURL: "https://iot-based-smart-hvac-default-rtdb.firebaseio.com",
                    projectId: "iot-based-smart-hvac",
                    storageBucket: "iot-based-smart-hvac.appspot.com",
                    messagingSenderId: "212004415290",
                    appId: "1:212004415290:web:755428aeaae5a436a9d203",
                    measurementId: "G-CTH3CV6YW8"
                  };

                // Initialize Firebase
                firebase.initializeApp(firebaseConfig);


                // getting reference to the database
                var database = firebase.database();

                //getting reference to the data we want
                var dataRef2 = database.ref('DHT_11/Temperature');
                var dataRef1 = database.ref('DHT_11/Humidity');

                //fetch the data

                dataRef2.on('value', function (getdata2) {
                    var temp = getdata2.val();
                    document.getElementById('Tempid').innerHTML = temp + "&#8451;";

                    dataRef1.on('value', function (getdata1) {
                        var humi = getdata1.val();
                        document.getElementById('Humiid').innerHTML = humi + "%";
                    })

                })
            </script>


        </main>

        <aside class="right-section">
            <div class="wrapper">

                <div class="search-container">
                    <input type="text" placeholder="Enter a city name" id="city" value="Agra" />
                    <button id="search-btn">Search</button>
                </div>
                <!-- </div> -->
                <div id="result"></div>
            </div>



        </aside>

    </div>
    <!-- script for real time DHT11 data -->

    <script src="script.js"></script>
    <!-- <script src="appliances.js"></script> -->
</body>

</html>